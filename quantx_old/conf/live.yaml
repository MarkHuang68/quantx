# æª”æ¡ˆ: conf/live.yaml
# ç‰ˆæœ¬: v2 (èˆ‡ AutoPolicy æ¨¡çµ„å°æ‡‰)
# èªªæ˜:
# - risk å€å¡Šä¿æŒä¸è®Šï¼Œç”¨æ–¼æ›´é«˜å±¤ç´šçš„é¢¨æ§ã€‚
# - auto_policy å€å¡Šæ›´æ–°ç‚º gate å’Œ weights å…©å€‹å­é …ç›®ï¼Œ
#   å°ˆé–€ç”¨æ–¼ AutoPolicy æ¨¡çµ„çš„ç­–ç•¥ç¯©é¸èˆ‡è©•åˆ†ã€‚

test_run: false  # true = ç´™ä¸Šäº¤æ˜“ (ä¸ç™¼é€çœŸå¯¦è¨‚å–®), false = å¯¦ç›¤äº¤æ˜“

# å ±è¡¨èˆ‡ç‹€æ…‹æª”æ¡ˆè¼¸å‡ºè¨­å®š
reporting:
  report_status_file: false # ğŸŸ¢ æ–°å¢ï¼šæ˜¯å¦è¼¸å‡º live_status.json

auto_policy:
  # Gate: å€™é¸ç­–ç•¥/æ¨¡å‹é€²å…¥è©•åˆ†å‰çš„ã€ŒåŸºæœ¬é–€æª»ã€
  # ä»»ä½•ä¸æ»¿è¶³æ­¤è™•æ¢ä»¶çš„å€™é¸è€…ï¼Œæœƒè¢«ç›´æ¥éæ¿¾æ‰ã€‚
  gate:
    min_sharpe: 1       # æœ€å°å¤æ™®æ¯”ç‡è¦æ±‚
    max_mdd: 0.1         # æœ€å¤§å›æ’¤ç‡è¦æ±‚ (æ³¨æ„: 0.3 ä»£è¡¨ 30%)
    min_trades: 50        # åœ¨è¨“ç·´å›æ¸¬ä¸­ï¼Œæœ€å°‘è¦æœ‰ 20 ç­†äº¤æ˜“

  # Weights: ç”¨æ–¼å°é€šé Gate çš„å€™é¸è€…é€²è¡Œã€Œè¨ˆåˆ†ã€çš„æ¬Šé‡
  # ç¸½åˆ† = sharpe * w_s + mdd * w_m + ...
  weights:
    sharpe: 100.0         # Sharpe æ¯å¢åŠ  1.0ï¼Œç¸½åˆ†å¢åŠ  100 åˆ†
    mdd: -50.0            # MDD æ¯å¢åŠ  0.1 (10%)ï¼Œç¸½åˆ†æ¸›å°‘ 5 åˆ† (æ‡²ç½°é …)
    trades: 0.1           # æ¯ç­†äº¤æ˜“è²¢ç» 0.1 åˆ†
    time_decay: -0.01     # (æ™‚é–“è¡°æ¸›) å€™é¸çµæœæ¯èˆŠä¸€åˆ†é˜ï¼Œç¸½åˆ†æ‰£ 0.01 åˆ†

# ç”¨æ–¼ Live/æ¨¡æ“¬ æ¨¡å¼ä¸‹çš„å€‰ä½è¨ˆç®—
risk_management:
  size_mode: "pct_equity"  # å€‰ä½æ¨¡å¼ï¼š'pct_equity', 'notional', 'fixed_qty'
  risk_pct: 0.1           # æ¯æ¬¡äº¤æ˜“ä½¿ç”¨ 1% çš„æ¬Šç›Šä½œç‚ºé¢¨éšª
  leverage: 30.0            # æ§“æ¡¿å€æ•¸

# ç”¨æ–¼ Live æ¨¡å¼çš„å…¨å±€é¢¨æ§
risk:
  max_drawdown_pct: 10              # æœ€å¤§å…è¨±å›æ’¤ (%)
  stop_after_consecutive_losses: 5  # é€£çºŒè™§ææ¬¡æ•¸å¾Œåœå–®
  min_equity_pct: 50                # æ·¨å€¼è·Œç ´ 50% å³åœ

capital:
  initial_equity: 10000.0  # ç”¨æ–¼ Live/æ¨¡æ“¬ æ¨¡å¼çš„åˆå§‹è³‡é‡‘è¨­å®š